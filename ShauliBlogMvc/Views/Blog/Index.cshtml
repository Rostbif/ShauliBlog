@model IEnumerable<ShauliBlogMvc.Models.Post>

@{
    ViewBag.Title = "Blog";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<h2>Blog</h2>


<ul>
    @foreach (var item in Model)
    {
        <li>
            <div>
                <h3>
                    
                    @Html.ActionLink(item.Title ?? "No Title", "Details", "Posts", new { id = item.ID }, null);
                </h3>

                <div>
                    @Html.DisplayFor(modelItem => item.Author),
                    @Html.DisplayFor(modelItem => item.PublishDate)
                </div>


                <div>
                    @Html.DisplayFor(modelItem => item.SiteOfAuthor)
                </div>

                <div>
                    @Html.DisplayFor(modelItem => item.Content)
                </div>
                <div>
                    @{
                        if (item.Image != null)
                        {
                            string imageBase64 = Convert.ToBase64String(item.Image);
                            string imageSrc = string.Format("data:image/gif;base64,{0}", imageBase64);
                            <img src="@imageSrc" width="100" height="100" alt="Image" />
                        }

                    }
                </div>
                <div>
                    @{
                        if (item.Video != null)
                        {
                            string videoBase64 = Convert.ToBase64String(item.Video);
                            string videoSrc = string.Format("data:image/gif;base64,{0}", videoBase64);
                            <video width="100" height="100" alt="Image" controls>
                                <source src="@videoSrc" type="video/mp4" />
                                <source src="@videoSrc" type="video/ogg" />
                                Your browser doesnt support the video tag of html5
                            </video>
                        }
                    }

                </div>
            </div>
        </li>
                        }
</ul>
